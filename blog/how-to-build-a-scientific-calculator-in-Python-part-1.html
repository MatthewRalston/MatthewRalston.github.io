<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" data-mode="light">
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="How to build a scientific calculator in Python - Part 1." />
<meta name="author" content="Matt Ralston" />
<meta property="og:locale" content="en" />
<meta name="description" content="Old post, very dated‚Ä¶ writing a command-line tool" />
<meta property="og:description" content="Old post, very dated‚Ä¶ writing a command-line tool" />
<link rel="canonical" href="https://matthewralston.github.io/blog/how-to-build-a-scientific-calculator-in-Python-part-1" />
<meta property="og:url" content="https://matthewralston.github.io/blog/how-to-build-a-scientific-calculator-in-Python-part-1" />
<meta property="og:site_name" content="Matt Ralston Bio+coding" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-06-15T07:19:28-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="How to build a scientific calculator in Python - Part 1." />
<meta name="twitter:site" content="@twitter_username" />
<meta name="twitter:creator" content="@Matt Ralston" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Matt Ralston","url":"https://matthewralston.github.io"},"dateModified":"2025-03-27T15:13:53-04:00","datePublished":"2019-06-15T07:19:28-04:00","description":"Old post, very dated‚Ä¶ writing a command-line tool","headline":"How to build a scientific calculator in Python - Part 1.","mainEntityOfPage":{"@type":"WebPage","@id":"https://matthewralston.github.io/blog/how-to-build-a-scientific-calculator-in-Python-part-1"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://matthewralston.github.io/assets/img/terra-informatics-minimal-logo2.png"},"name":"Matt Ralston"},"url":"https://matthewralston.github.io/blog/how-to-build-a-scientific-calculator-in-Python-part-1"}</script>
<!-- End Jekyll SEO tag -->


  <title>How to build a scientific calculator in Python - Part 1. | Matt Ralston | Bio+coding
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Matt Ralston | Bio+coding">
<meta name="application-name" content="Matt Ralston | Bio+coding">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css">

  <!-- Nerd Fonts - Thanks! -->
  <link rel="stylesheet" href="https://www.nerdfonts.com/assets/css/webfont.css">

  <!-- Academic Icons. JPWalsh - Thanks! -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1.9.4/css/academicons.min.css">  
  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/programmer.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">Matt Ralston | Bio+coding</a>
    <p class="site-subtitle fst-italic mb-0">Aspiring coder with a passion for biology</p>
    <details>
      <summary>Who am I?</summary>
      <p>M.Sc. Bioinfo + 5yr pharma exp. | Scientific computing is my passion. Currently writing a DNA sequence alignment, quasi-mapper, and graph algorithm and manuscript (for bioRxiv). I enjoy practicing math rock and samba/bossa-nova on my guitars, I write open-source software on GitHub, and I work in the DE-NJ-PA tri-state area based in Newark.</p>
    </details>
    <details>
      <summary>Consulting & Webdev</summary>
      <bold>Terra Info. LLC.</bold>


      <!-- NOTE: Fix the terrainfo.dev link here. -->
      <a href="#">
	<p>Regional web-development company: personal, lab, project, and documentation sites, LIMS systems... focus on modern style. < $1k : get yours today!</p>
      </a>
      <div><img src="/assets/img/terra-informatics-minimal-logo2.png" height="84" width="384" alt="logo" onerror="this.style.display='none'"/>
    </div>

    
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
      <ul class="navbar-nav me-auto">
	<!-- home -->
	<li class="nav-item">
          <a href="/" class="nav-link">
            <i class="fa-fw fas fa-home"></i>
            <span>HOME</span>
          </a>
	</li>

	<!--     A B O U T     -->
	<li class="nav-item">


	  <a class="nav-link navbar-toggler dropdown-toggle" href="#" role="button" data-bs-toggle="collapse" data-bs-target="#aboutContent" aria-controls="aboutContent" aria-expanded="false">
	    <i class="fa-fw fas fa-info-circle"></i>	    
	    
	    <span>ABOUT</span>
	  </a>
	  <div id="aboutContent" class="collapse navbar-collapse">
	    
            <ul class="navbar-nav me-auto list-group list-group-flush">
	      <li class="nav-item list-group-item">
		<a class="dropdown-item" href="/about">
		  <u>About Me</u>
		</a>
	      </li>
              <div class="dropdown-divider"></div>
	      <li class="nav-item list-group-item">
		<strong>Subjects:</strong>
	      </li>
              <div class="dropdown-divider"></div>
	      <li class="nav-item">
		<a class="dropdown-item" href="/biosciences"><u>Biology &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;üß´üë®üèΩ‚Äçüî¨&nbsp;&nbsp;</u></a>
	      </li>
	      <li class="nav-item">
		<a class="dropdown-item" href="/data_science"><u>Data Science &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;üßÆ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</u></a>
	      </li>
	      <li class="nav-item">
		<a class="dropdown-item" href="/research"><u>Research &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; üóÇÔ∏èüìë&nbsp;&nbsp;&nbsp;</u></a>
	      </li>

              <div class="dropdown-divider"></div>
	      <li class="nav-item list-group-item">
		<strong>Software:</strong>
	      </li>
              <div class="dropdown-divider"></div>
	      <li class="nav-item">
		<a class="dropdown-item" href="/software"><u>Software &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; üßë‚Äçüíª &nbsp;&nbsp;&nbsp;</u></a>
	      </li>
	      <li class="nav-item">
		<a class="dropdown-item" href="/data_science"><u>Bioinf & Data Sci.&nbsp;&nbsp;&nbsp;&nbsp;üß¨üìä&nbsp;&nbsp;</u></a>
	      </li>
	      <li class="nav-item">
		<a class="dropdown-item" href="/research"><u>Genomics Research   ü¶†üß™</u></a>
	      </li>
	      <li class="nav-item">
		<a class="dropdown-item" href="/cloud_native"><u>DevOps & Cloud&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ‚òÅÔ∏è&nbsp;&nbsp;&nbsp;&nbsp;</u></a>
	      </li>
	      <li class="nav-item">
		<a class="dropdown-item" href="/portfolio"><u>Portfolio &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;üóÑÔ∏è &nbsp;&nbsp;&nbsp;&nbsp;</u></a>
	      </li>
	  </div>
	</li>
	<!-- End About mini-nav Bootstrap 5.3 'collapse' -->

	<!--         E N D      A B O U T               -->

	<!--       a d d i t i o n a l     p a g e s    -->
	<li class="nav-item">
	  <a href="/portfolio" class="nav-link">
	    <i class="ai ai-open-data"></i>
	    <span>Portfolio</span>
	  </a>
	</li>
	<li class="nav-item">
	  <a href="/cv" class="nav-link">
	    <!-- <i class="fa-fw fas fa-file"></i> -->
	    <i class="ai ai-cv"></i>
	    <span>R√©sum√© / C.V.</span>
	  </a>
	</li>
	<li class="nav-item">
	  <a href="/cv" class="nav-link">
	    <i class="fas fa-envelope-circle-check"></i>
	    <span>CONTACT</span>
	  </a>
	</li>





	<!--     B L O G     -->
	<li class="nav-item">
	  <a class="nav-link navbar-toggler dropdown-toggle" href="#" role="button" data-bs-toggle="collapse" data-bs-target="#blogContent" aria-controls="blogContent" aria-expanded="false">
	    <i class="fa-fw fas fa-info-circle"></i>	    
	    <span>BLOG</span>
	  </a>
	  <div id="blogContent" class="collapse navbar-collapse">
	    
            <ul class="navbar-nav me-auto list-group list-group-flush">
	      <li class="nav-item">
		<a href="/archives" class="nav-link">
		  <!-- <i class="fa-fw fas fa-file"></i> -->
		  <i class="ai ai-conversation"></i>
		  <span>Read Blog</span>
		</a>
	      </li>
	      <!--  B L O G       R E L A T E D      T A B S -->
	      
              <div class="dropdown-divider"></div>
	      <li class="nav-item list-group-item">
		<strong>Blog Contents:</strong>
	      </li>
              <div class="dropdown-divider"></div>

	      <!-- the real tabs -->
	      
              <li class="nav-item">
		<a href="/categories/" class="nav-link">
		  <i class="fa-fw fas fa-stream"></i> <!-- NOTE: TAB BAR ICONS -->
		  

		  <span>CATEGORIES</span>
		</a>
              </li>
              <!-- .nav-item -->
	      
              <li class="nav-item">
		<a href="/tags/" class="nav-link">
		  <i class="fa-fw fas fa-tags"></i> <!-- NOTE: TAB BAR ICONS -->
		  

		  <span>TAGS</span>
		</a>
              </li>
              <!-- .nav-item -->
	      
              <li class="nav-item">
		<a href="/archives/" class="nav-link">
		  <i class="fa-fw fas fa-archive"></i> <!-- NOTE: TAB BAR ICONS -->
		  

		  <span>ARCHIVES</span>
		</a>
              </li>
              <!-- .nav-item -->
	      
	    </ul>
	  </div>
	</li>
      </ul>
    </div>
  </nav>
  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    

    
      

      
        <a
          href="https://github.com/MattRalston"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['mralston.development','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
      

      
        <a
          href="https://linkedin.com/in/matthewralston"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
      

      
        <a
          href="https://stackexchange.com/users/2280508/w4t3randwind"
          aria-label="stack-overflow"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-stack-overflow"></i>
        </a>
      
    
      

      
        <a
          href="https://bsky.app/profile/average-coder.bsky.social"
          aria-label="bluesky"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-bluesky"></i>
        </a>
      
    
      

      
        <a
          href="https://scholar.google.com/citations?hl=en&pli=1&user=86Lxg-4AAAAJ"
          aria-label="googlescholar"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="ai ai-google-scholar"></i>
        </a>
      
    
      

      
        <a
          href="https://www.ncbi.nlm.nih.gov/pubmed/?term=matthew+ralston"
          aria-label="pubmed"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="ai ai-pubmed"></i>
        </a>
      
    
      

      
        <a
          href="https://www.google.com/search?q=newark+de"
          aria-label="location"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-solid fa-globe"></i>
        </a>
      
    
      

      
        <a
          href="https://udel.edu"
          aria-label="university"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-solid fa-building-columns"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>How to build a scientific calculator in Python - Part 1.</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link" aria-label="Search">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>How to build a scientific calculator in Python - Part 1.</h1>
    
      <p class="post-desc fw-light mb-4">Old post, very dated... writing a command-line tool</p>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1560597568"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Jun 15, 2019
</time>

      </span>

      <!-- lastmod date -->
      
        <span>
          Updated
          <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1743102833"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Mar 27, 2025
</time>

        </span>
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              
                <a href="https://matthewralston.github.io">Matt Ralston</a>
                
              
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="7116 words"
>
  <em>39 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">How to build a scientific calculator in Python - Part 1.</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">Contents</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">How to build a scientific calculator in Python - Part 1.</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <h2 id="introduction"><span class="me-2">Introduction</span><a href="#introduction" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Bioinformatics research in 2019 relies on high-performance, compiled C, C++, or Java programs to solve alignment and assembly problems efficiently. However, interpreted scripting languages, such as Python, Perl, and shell languages (bash, csh, zsh, fish), are needed afterwards for further calculation, quality control, visualization, and more.</p>

<p>Novel metrics, normalizations, and even complex algorithms are often prototyped in ‚Äòbeginner‚Äô languages. Some metrics or algorithms prototyped in this way are so useful that a company or the community may optimize the implementation further with a compiled language. Nearly every bioinformatician can write data analysis pipelines, web applications, or basic calculations in scripting languages, but code quality and reproducibility have been highlighted as widespread issues. The application/industry side of bioinformatics relies upon scripting languages for basic data processing, collation, analysis, and presentation. But advice on essentials for building your own novel tool seems to be rare and it‚Äôs a skill that‚Äôs expected to be learned through practice and experience.</p>

<p>This article is part 1 of a two part series on the topic. In this article, I‚Äôll discuss repository structure, installation procedure, CLI/SDK best practices, <code class="language-plaintext highlighter-rouge">README.md</code> conventions, and other user-friendly goodies that may give your tool (or suite) and associated reports or publications better visibility and adoption rate by the scientific community. Part 2 will describe other software engineering considerations including benchmarking the various parts of the tool and including test datasets or KnitR <code class="language-plaintext highlighter-rouge">.Rmd</code> reports to describe what questions or assumptions were investigated for each tool, and how the metrics were tested for performance and accuracy on simulated and/or real-world datasets.</p>

<h2 id="finding-a-problem"><span class="me-2">Finding a problem</span><a href="#finding-a-problem" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>There are so many areas where bioinformatics theory can be approached with simple languages! I don‚Äôt think bioinformatics education should focus on ‚Äúhow to create a data processing pipeline,‚Äù though it is certainly an employable skill. But somewhere along the way, you‚Äôll find a problem where there aren‚Äôt many theoretical metrics or quality control procedures available, and you‚Äôll have to invent your own.</p>

<p>But how <em>do</em> you make a novel command-line metric, algorithm, or program that scientists will actually want to use? What is the difference between a one-off script and a mature suite? Scientists that may have rudimentary command-line abilities often complain about the quality of tools available for mainstream use. A mature tool anticipates the size or quality of input datasets, provides an easy installation process, and answers questions about the derivation or implementation without demanding users browse the source code. Easier said than done.</p>

<p>Here are some patterns that you can follow to use Python to develop a novel calculator for a class project, graduate programs, for an employer, or to support the open source community. If you prefer another language to Python, you may still find this article useful for development and testing patterns. I‚Äôll begin this article by describing what I think is a solid repository structure for a Python package and key files or entry points that you‚Äôll need to emphasize to the end-user.</p>

<h2 id="repository-structure"><span class="me-2">Repository structure</span><a href="#repository-structure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="directories"><span class="me-2">Directories</span><a href="#directories" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>bin/
docs/
mymodule/
test/
test/data/
</pre></td></tr></tbody></table></code></div></div>

<p>Your directory structure and files in the root of your repository are the first things users see. You‚Äôll want your code, documentation, and tests in predictable locations so anyone can clearly understand what directories are meant for developers, and which contain code they might need to read when identifying bugs or asking questions on an issue tracker. A little bit of directory nesting can help you orgranize and group your content, but too much may confuse users or developers who might actually care about navigating your repository. Let‚Äôs start with an overview of this pretty simple directory structure before we consider specific files or entry points that you‚Äôll need to explicitly emphasize in the <code class="language-plaintext highlighter-rouge">README</code>.</p>

<p>But before we begin, I‚Äôd like to differentiate between command-line tools and APIs/modules/libraries that users would integrate into their own codebases. In this guide, I‚Äôll suggest that the reader build both a CLI and a module, so that other developers could build on top of their codebase, something we should all hope for our software.</p>

<h4 id="bin"><span class="me-2"><code class="language-plaintext highlighter-rouge">bin/</code></span><a href="#bin" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>Include a <code class="language-plaintext highlighter-rouge">bin/</code> directory for your main executable and any accessory scripts that could be considered portable, if the user‚Äôs <code class="language-plaintext highlighter-rouge">PYTHONPATH</code> variable is set properly. I‚Äôll talk about the portability component very shortly.</p>

<h4 id="docs"><span class="me-2"><code class="language-plaintext highlighter-rouge">docs/</code></span><a href="#docs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>A mark of a solid repository is well-developed, up-to-date documentation that supplements a <code class="language-plaintext highlighter-rouge">README</code> file. In 2019, I suggest the <a href="https://www.sphinx-doc.org/en/master/index.html">Sphinx</a> documentation engine for Python code, which absorbs docstrings from the source code with some fairly simple configurations. The result is clean, simple HTML documentation with a familiar ‚ÄúReadTheDocs‚Äù style layout that can be served on a separate domain or as part of a Github pages front-end for your codebase. The number one reason why developers don‚Äôt document their code is because they already know how to use it. The Sphinx documentation system provides a convenient ‚Äúauto‚Äù documentation system if you are already using <a href="https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html">docstrings</a> to document your classes and functions, so you never have to write advanced documentation if you‚Äôre already doing it according to some PEP standards!</p>

<h4 id="mymodule"><span class="me-2"><code class="language-plaintext highlighter-rouge">mymodule/</code></span><a href="#mymodule" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>Create a module directory (and a usually empty <code class="language-plaintext highlighter-rouge">__init__.py</code> file) for the key functions and classes. You‚Äôll just import these into your CLI later. Keep the name of your module simple. If your application is called <code class="language-plaintext highlighter-rouge">mondo</code>, the command-line interface could be a shebang‚Äôd script at <code class="language-plaintext highlighter-rouge">bin/mondo</code> and an associated module directory <code class="language-plaintext highlighter-rouge">mondo/</code>. I am aware that class names should be camel-case and most other content should be underscored, I am not aware of a convention for module names, and a short simple name or initialism without hyphens or underscores prevents ambiguity.</p>

<h4 id="test-and-testdata"><span class="me-2"><code class="language-plaintext highlighter-rouge">test/</code> and <code class="language-plaintext highlighter-rouge">test/data</code></span><a href="#test-and-testdata" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>Create a test directory to house <a href="https://stackoverflow.com/questions/5357601/whats-the-difference-between-unit-tests-and-integration-tests">unit, integration</a>, and <a href="https://dzone.com/articles/untangling-concepts-unit-tests">acceptance tests</a> for all levels and interactions of our codebases, so users can determine for themselves if the code should run properly on their system. These tests will run on a <a href="https://en.wikipedia.org/wiki/Continuous_integration">continuous integration</a> server and ideally <em>during</em> the installation process, to alert users of any issues on their system.</p>

<p>Create a data subdirectory for minimal test datasets with your repository. The input to most scientific calculators is most likely an input dataset and some parameter values, and you‚Äôll want users to be able to essentially substitute their dataset for a command run by your acceptance tests. Your test datasets should span a good range of common artifacts, misformating, and other scenarios.</p>

<h3 id="essential-files"><span class="me-2">Essential files</span><a href="#essential-files" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Okay! Now that the directories have been summarized, let‚Äôs talk about some specific files that you‚Äôll want to include with your repository.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>bin/myprogram
docs/Makefile
Makefile
README.md
requirements.txt
requirements-dev.txt
setup.py
test/Makefile
.travis.yml
</pre></td></tr></tbody></table></code></div></div>

<h4 id="your-primary-entry-point-the-command-line-interface-cli"><span class="me-2">Your primary entry point: the command-line interface (CLI)</span><a href="#your-primary-entry-point-the-command-line-interface-cli" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>A portable script located in the <code class="language-plaintext highlighter-rouge">bin/</code> directory is the ideal entry point for your program. It should have <a href="https://docs.python.org/3/library/argparse.html">argparse</a> or similar argument parsing with a thorough description of formats, parameter types, and effects those parameters will have on the corresponding output.</p>

<p>What should this script have or <em>not have</em>? This script won‚Äôt contain many function definitions, instead it merely sources the Python files (a.k.a. submodules) with the functions and classes, and runs them in the appropriate order with inputs passed in from argparse. I like to use the <a href="https://docs.python.org/3/library/logging.html">logging</a> module in the Python standard library to provide more detail to users and developers with a <code class="language-plaintext highlighter-rouge">-v, --verbose</code> option. Also, I like to do type-checking in those submodules themselves, rather than the CLI, to keep the logic and validations outside of its scope.</p>

<p>How do I make it portable? You‚Äôll want to double-check that your <code class="language-plaintext highlighter-rouge">setup.py</code> is <a href="https://python-packaging.readthedocs.io/en/latest/command-line-scripts.html">configured properly</a> to move this script to the appropriate location on the user‚Äôs filesystem. After installation, users should be able to invoke <code class="language-plaintext highlighter-rouge">myprogram</code> easily, since it will be conveniently in their <code class="language-plaintext highlighter-rouge">PATH</code>; similarly, your <code class="language-plaintext highlighter-rouge">module/</code> will be importable thanks to standard <a href="https://pypi.org/">pip/PyPI</a> conventions.</p>

<h4 id="makefiles"><span class="me-2"><a href="https://gist.github.com/MatthewRalston/4f858bf8bfab9e244ae66faa6b6b3223">Makefiles</a></span><a href="#makefiles" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>As mentioned earlier, the Sphinx documentation system provides a convenient ‚Äúauto‚Äù documentation system if you are already using <a href="https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html">docstrings</a> to document your classes and functions. The <code class="language-plaintext highlighter-rouge">sphinx-quickstart</code> process will typically generate a <code class="language-plaintext highlighter-rouge">Makefile</code> to accompany your documentation process, that can be run from the master <code class="language-plaintext highlighter-rouge">Makefile</code> in your repository root. When properly configured, you‚Äôd like to run a simple <code class="language-plaintext highlighter-rouge">make docs</code> right before you commit, to update your documentation automatically from the docstrings of your source code.</p>

<p>The master <code class="language-plaintext highlighter-rouge">Makefile</code> can also run your test <code class="language-plaintext highlighter-rouge">Makefile</code> with <code class="language-plaintext highlighter-rouge">make test</code>, so that users or your continuous-integration process can easily invoke your test suite of choice. Your <code class="language-plaintext highlighter-rouge">test/Makefile</code> will just have the commands required for coverage reports, unit tests, integration tests, and acceptance tests.</p>

<h4 id="requirementstxt-files"><span class="me-2"><code class="language-plaintext highlighter-rouge">requirements.txt</code> files</span><a href="#requirementstxt-files" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>Some styles of pip/PyPI packaging suggest that all dependencies be specified in a <a href="https://pip.pypa.io/en/stable/user_guide/#requirements-files"><code class="language-plaintext highlighter-rouge">requirements.txt</code></a> file. All PyPI packages should have dependencies also declared in the <code class="language-plaintext highlighter-rouge">setup.py</code> as well. I like to separate development dependencies in a separate <code class="language-plaintext highlighter-rouge">requirements-dev.txt</code> file, and read both of these into my <code class="language-plaintext highlighter-rouge">setup.py</code> file to easily declare and update dependencies while supporting both conventions for dependency declarations.</p>

<h4 id="setuppy"><span class="me-2"><code class="language-plaintext highlighter-rouge">setup.py</code></span><a href="#setuppy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>An essential file for a Python package, this contains instructions for <code class="language-plaintext highlighter-rouge">pip</code> to understand how to install your package: dependencies, license information, supported Python versions, etc. Note below that <code class="language-plaintext highlighter-rouge">requirements.txt</code> and the optional <code class="language-plaintext highlighter-rouge">requirements-dev.txt</code> are essentially snapshots of your development virtual environment; you only need to update those in order to update the <code class="language-plaintext highlighter-rouge">setup.py</code> file. Second component of note is <code class="language-plaintext highlighter-rouge">scripts=['bin/myscript']</code>, which specifies the executable that should be available in the users <code class="language-plaintext highlighter-rouge">PATH</code> after installation.</p>

<script src="https://gist.github.com/MatthewRalston/0049d7fe72629f2e874ea0e23086c6e3.js"></script>

<h4 id="travisyml"><span class="me-2"><code class="language-plaintext highlighter-rouge">.travis.yml</code></span><a href="#travisyml" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>The final ingredient is a Travis-CI configuration file, which lets you specify supported operating systems and language versions. Travis takes this file and launches several containers to run your test suite, providing an easy to use report letting users know if their platform is supported, providing a convenient badge letting users know your tests are currently passing.</p>

<h2 id="installation-procedure"><span class="me-2">Installation procedure</span><a href="#installation-procedure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>If you followed my suggestions above for the setup.py file, PyPI provides a convenient installation experience for your users. You can test your installation locally by running <code class="language-plaintext highlighter-rouge">pip install -e .</code> in the root of your repository. Ideally, your installation process should run unit tests during installation, to give users an idea if your package is working as expected during installation. Eventually, you could include a badge with a link to the package in PyPI at the top of your <code class="language-plaintext highlighter-rouge">README</code> with an installation section with a single line: <code class="language-plaintext highlighter-rouge">pip install mypackage</code>. If your code works well and is tested for their platform, it would be hard for most non-developer scientists to find your package difficult to install.</p>

<h2 id="what-does-a-good-cli-look-like"><span class="me-2">What does a good CLI look like?</span><a href="#what-does-a-good-cli-look-like" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>I typically suggest that users use <code class="language-plaintext highlighter-rouge">git</code> and <code class="language-plaintext highlighter-rouge">aws-cli</code> as good references for high-quality command-line suites. Both possess a variety of subcommands, and the simple ‚Äòverbs‚Äô or subcommands are easy to remember. But there‚Äôs more to it than just mimicing existing tools. You want users to feel comfortable knowing what is happening in your codebase, what parameters are required, what their types are, and how your tools can be combined into other workflows.</p>

<p>I‚Äôm not a great coder, but I have run in to most of the basic pitfalls possible in simple languages, most common were TypeErrors because I passed it a string <code class="language-plaintext highlighter-rouge">'5'</code> instead of the integer <code class="language-plaintext highlighter-rouge">5</code>. Also I ran in to IOErrors from passing an empty list (read from an empty file) to a function, which can be prevented by verifying that the file exists, is readable, and isn‚Äôt empty. But how should you treat those errors? Throw an error if the file is empty? Throw an error if the list read from the file is empty? How would you validate a tsv file? Does it have a header? A more complex format? Are existing parsers available? Should you use argparse to validate that the file exists and then use <code class="language-plaintext highlighter-rouge">args.infile.close()</code> to close the handle, and reopen it with a parsing library? There‚Äôs no one way to build a good script or CLI, but here are my suggestions for Python projects.</p>

<h3 id="tldr-argparse"><span class="me-2">TLDR: argparse</span><a href="#tldr-argparse" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>The long and short of this is that almost all developers should spend some time working on a project, evolving their style, and reading the <a href="https://docs.python.org/3/library/argparse.html">argparse</a> manual. It includes information about parameter <a href="https://docs.python.org/3/library/argparse.html#type">types</a>, <a href="https://docs.python.org/3/library/argparse.html#action">flags</a> vs <a href="https://docs.python.org/3/library/argparse.html#name-or-flags">parameters/options (‚Äìoption) vs positional arguments</a>, parameter <a href="https://docs.python.org/3/library/argparse.html#default">defaults</a>, <a href="https://docs.python.org/3/library/argparse.html#required">required</a> parameters, parameter <a href="https://docs.python.org/3/library/argparse.html#choices">choices</a>, parameters that should be <a href="https://docs.python.org/3/library/argparse.html#filetype-objects">files</a>, and even <a href="https://docs.python.org/3/library/argparse.html#sub-commands">subcommands</a>.  Most other languages have similar argument parsing libraries available (<a href="https://github.com/tj/commander.js">commander.js</a>, <a href="https://ruby-doc.org/stdlib-2.6.3/libdoc/optparse/rdoc/OptionParser.html">OptionParser (Ruby)</a>, <a href="https://cran.r-project.org/web/packages/getopt/getopt.pdf">getopt</a> and <a href="https://cran.r-project.org/web/packages/argparser/argparser.pdf">argparseR</a> for R) to make easy-to-use CLIs.</p>

<h3 id="conventions-for-inputoutput"><span class="me-2">Conventions for input/output</span><a href="#conventions-for-inputoutput" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>When I first started writing scripts, I‚Äôd include a <code class="language-plaintext highlighter-rouge">--infile</code> option so that users could pass an input file. Sometimes you‚Äôll see the input file as an positional argument. This is a great convention; it makes it easy to understand the difference between parameters/options, prefixed with a double hyphen (like <code class="language-plaintext highlighter-rouge">--verbose</code>), vs. positional arguments that are usually filepaths. However, what if your users want to pipe output from another program directly in to yours? How can you tell argparse that you‚Äôd like the CLI to read from STDIN by default? <code class="language-plaintext highlighter-rouge">argparse.ArgumentParser.add_argument()</code> supports a <code class="language-plaintext highlighter-rouge">default=</code> keyword argument, where you can specify <code class="language-plaintext highlighter-rouge">default=sys.stdin</code> to read from STDIN by default. Using STDIN/STDOUT conventions makes it much easier to construct pipelines with individual tools or subcommands. Also, you should print all debugging to STDERR by default and the <code class="language-plaintext highlighter-rouge">logging</code> module referenced earlier does this by default.</p>

<p>Adding in support for compressed inputs is surprisingly simple in Python. I‚Äôve uploaded a <a href="https://gist.github.com/MatthewRalston/6641f45bdce19341f568264132b794de">gist</a> from a unpublished side project called ngsci. The gist has some code that validates compressed and uncompressed fasta files with BioPython, ensures that an alignment file is sorted/indexed, and even has support for data hosted on S3. Note that in order to validate a S3-hosted dataset, you could stream the file and validate in flight, but it would be wasteful to have to download the file again to process it; it makes sense to download the file to a temporary file, as long as the rest of your application can remove the file when it‚Äôs done.</p>

<h3 id="verbosity-and-debugging"><span class="me-2">Verbosity and debugging</span><a href="#verbosity-and-debugging" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>I actually didn‚Äôt start with Python. I started with Ruby and became heavily interested in the <code class="language-plaintext highlighter-rouge">log4r</code> framework, which can show a timestamp, the line number of the file producing the logging, and colorizes output so developers can easily distinguish between info and debug level logging. The older Log4j framwork was a customizable Apache and Java logger that inspired <code class="language-plaintext highlighter-rouge">log4r</code>, <code class="language-plaintext highlighter-rouge">log4js</code> (NodeJS), and Python‚Äôs <code class="language-plaintext highlighter-rouge">logging</code> module. If you‚Äôre building web applications, you might want different levels of verbosity printed to the console vs a log file vs an online log archive, and these frameworks support inheritance and multiple outputs.</p>

<p>Basically, here are the different types of errors: <code class="language-plaintext highlighter-rouge">FATAL</code> errors are errors where the program cannot continue. <code class="language-plaintext highlighter-rouge">ERROR</code>s and <code class="language-plaintext highlighter-rouge">WARNING</code>s should almost always be relayed to the user, and as a script-kiddie I consider most errors fatal. In contrast, <code class="language-plaintext highlighter-rouge">INFO</code> messages are high-level and let the user know if the process is parsing, iterating over input, or simply still calculating. Finally, developers use <code class="language-plaintext highlighter-rouge">DEBUG</code> messages for extremely verbose information about each calculation, so that a near continuous stream of information is printed to STDERR. They can also include the details of specific iterations in case of a fatal error. I like to use the following in my CLI to let users toggle between info and debug level verbosity (<code class="language-plaintext highlighter-rouge">WARNING</code> by default) by specifying one or two <code class="language-plaintext highlighter-rouge">-v, --verbose</code> flags (<code class="language-plaintext highlighter-rouge">INFO</code> and <code class="language-plaintext highlighter-rouge">DEBUG</code>, respectively) and the logger in <code class="language-plaintext highlighter-rouge">mymodule/submodule.py</code> inherits settings from the root logger environment.</p>

<div class="language-python highlighter-rouge"><div class="code-header">
        <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="c1"># bin/myprogram
</span>
<span class="c1"># globals
</span><span class="n">logger</span><span class="o">=</span><span class="bp">None</span>

<span class="k">def</span> <span class="nf">get_root_logger</span><span class="p">(</span><span class="n">loglevel</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">loglevel</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">loglevel</span><span class="o">=</span><span class="mi">2</span>
    <span class="n">levels</span> <span class="o">=</span> <span class="p">[</span><span class="n">logging</span><span class="p">.</span><span class="n">WARNING</span><span class="p">,</span> <span class="n">logging</span><span class="p">.</span><span class="n">INFO</span><span class="p">,</span> <span class="n">logging</span><span class="p">.</span><span class="n">DEBUG</span><span class="p">]</span>
    <span class="n">logging</span><span class="p">.</span><span class="nf">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">levels</span><span class="p">[</span><span class="n">loglevel</span><span class="p">],</span><span class="nb">format</span><span class="o">=</span><span class="sh">"</span><span class="s">%(levelname)s: %(asctime)s %(funcName)s L%(lineno)s| %(message)s</span><span class="sh">"</span><span class="p">,</span><span class="n">datefmt</span><span class="o">=</span><span class="sh">"</span><span class="s">%Y/%m/%d %I:%M:%S %p</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">root_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="nf">getLogger</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">root_logger</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">-v</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">--verbose</span><span class="sh">'</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">'</span><span class="s">count</span><span class="sh">'</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">Controls verbosity. Default: WARNING</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">fasta</span><span class="sh">'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">argparse</span><span class="p">.</span><span class="nc">FileType</span><span class="p">(</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">A genomic fasta file</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
    <span class="c1"># Set up the root logger
</span>    <span class="n">logger</span><span class="o">=</span><span class="nf">get_root_logger</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">verbose</span><span class="p">)</span>
    <span class="c1"># Main routine
</span>    <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
	
<span class="c1"># mymodule/submodule.py
</span><span class="kn">import</span> <span class="n">logging</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="nf">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<h2 id="how-to-build-an-algorithm-in-a-python-module"><span class="me-2">How to build an algorithm in a Python module</span><a href="#how-to-build-an-algorithm-in-a-python-module" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Your module <em>can</em> be referred to as the API or SDK, although those usually have a different context of web applications or novel platforms (IOS, android), but I digress. Just know that if I use the phrase API, I‚Äôm referring to your module that contains the functions, classes, and logic of your calculation. In contrast, the CLI I discussed above might seem pretty boring, and it should be. It‚Äôs just a wrapper to make your module accessible and easy-to-use from the command line.</p>

<p>Even the argparse validations are a formalism: <em>you should include type-checking in all of the code of your module: your functions or your class <code class="language-plaintext highlighter-rouge">__init__</code> </em>.</p>

<p>So, all of the work that needs to be done is in the <a href="https://docs.python.org/3/tutorial/modules.html">module</a>. I usually need to do 3 things with the input dataset(s) and parameters:</p>

<ol>
  <li>
    <p>validate and iterate over some input file</p>
  </li>
  <li>
    <p>perform the calculations, creating multiple resulting records</p>
  </li>
  <li>
    <p>print the resulting records to STDOUT.</p>
  </li>
</ol>

<h3 id="key-questions-for-the-implementation"><span class="me-2">Key questions for the implementation</span><a href="#key-questions-for-the-implementation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Your strategy for addressing the first challenge of input format parsing effects the whole problem. Sometimes, you can just read the whole dataset into memory if it‚Äôs sufficiently small. Sometimes this works well because the calculation actually cross-references multiple reads, records, basepairs, etc. Other times it can be faster to perform the calculation one record at a time, <em>while</em> you‚Äôre reading the file. Data is flowing out of the file on your storage device into the computer‚Äôs memory and then fed to the CPU cache. It isn‚Äôt sitting in some list waiting for the rest of the file to be read before the actual calculation begins; it can flow through the function that actually calculates what you care about as the disk continues to read data in the same way. So even though the first topic of validating/parsing input files is supposed to be about <em>just</em> that, it plays a considerable role in making a performant implementation. The best overall algorithmic strategy and even your I/O strategy depends on what your calculation actually does.</p>

<h4 id="are-all-the-possible-input-datasets-small-enough-so-that-the-calculation-wont-be-bottlenecked-by-memory-or-io-speed"><span class="me-2">Are all the possible input datasets small enough so that the calculation won‚Äôt be bottlenecked by memory or I/O speed?</span><a href="#are-all-the-possible-input-datasets-small-enough-so-that-the-calculation-wont-be-bottlenecked-by-memory-or-io-speed" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>If not, that‚Äôs okay. But if it is, this <em>could</em> be a good strategy if you need to calculate something <em>between</em> the records, lines, or individual pieces of your dataset.</p>

<p>Suppose your calculation works on subsets of gtf/bed records, grouping them by location in the genome. Each time you create a subset, you‚Äôre filtering all <code class="language-plaintext highlighter-rouge">n</code> records down for your calculation (unless you have an index present). Or suppose that you need to do all pairwise comparisons between the <code class="language-plaintext highlighter-rouge">n</code> inputs, and maybe filter or sort those comparisons with some criterion at the end. That‚Äôs O(n<sup>2</sup>) comparisons plus a average O(n*log(n)) quicksort or a O(n) filtering. At this point, you can see why these inter-record comparisons are more costly in memory and time than simply calculating one metric for each input, which should have fairly linear O(n) complexity.</p>

<p>The real key here is making a function that does a single comparison. Instead of telling you <em>how</em> to make that function, I‚Äôve instead focused on how important it is to assess the computational complexity of your calculation in terms of dataset size (<code class="language-plaintext highlighter-rouge">n</code>) before you decide what the best impementation for your problem really is. If you can‚Äôt fit the dataset in memory, you‚Äôll need a sorting/indexing or chunking strategy with more frequent and expensive I/O operations to address the problem. <em>But</em> if you <em>can</em> process the data one record at a time (i.e. a mostly linear calculation), you can avoid reading all the records into memory and stream the data through the calculation (disk =&gt; RAM =&gt; CPU cache) and back to STDOUT very quickly.</p>

<h4 id="what-if-i-can-process-the-input-dataset-one-linerecord-at-a-time"><span class="me-2">What if I <em>can</em> process the input dataset one line/record at a time?</span><a href="#what-if-i-can-process-the-input-dataset-one-linerecord-at-a-time" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>If there is an avaialble format validator/parser, I‚Äôd suggest using it <em>if</em> it returns something that behaves like a filehandle/io object or uses a generator pattern. If the module you‚Äôre trying to use suggests using something like the loop below, it‚Äôs clear to most beginners that the result of the <code class="language-plaintext highlighter-rouge">ParseFile</code> method below is ‚Äòiterable‚Äô; it likely it parses and validates each record on the fly. Great! While it isn‚Äôt a list, it ‚Äòyields‚Äô results one at a time until it‚Äôs completely parsed the file. This is called a ‚Äògenerator‚Äô pattern, since it doesn‚Äôt load all records into memory as a list. Instead it just keeps a pointer at the current line/record in the file, parses it, and ‚Äòyields‚Äô it to the outside scope that is invoking the iteration.</p>

<div class="language-python highlighter-rouge"><div class="code-header">
        <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">somemodule</span><span class="p">.</span><span class="nc">ParseFile</span><span class="p">(</span><span class="n">yourfile</span><span class="p">):</span>
   <span class="nf">print</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p>If there isn‚Äôt a parser available, you‚Äôll want to implement your own record validation function that takes a line (or several lines) as input, validates the record, and returns it. This is very easy if you‚Äôre just checking column types for a tsv, since you can just use the file <code class="language-plaintext highlighter-rouge">open()</code> generator and pass each line to a simple function that splits strings, converts integers for certain columns, etc. But if it requires loading several lines at a time, you‚Äôll need to build your own ‚Äògenerator‚Äô to define how many lines to read, whether or not those lines consitute a valid record, the data structure for the individual records, etc.</p>

<p>After you‚Äôve figured out how to validate the input dataset‚Äôs format, you‚Äôll need to pass each record to your function that performs the calculation on a single record. It might look like the following. You‚Äôll notice that there is a parser module that contains one or more parsing functions, and a calculator module with one or more fancy metrics that you can calculate from a single record.</p>

<div class="language-python highlighter-rouge"><div class="code-header">
        <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">myparser</span>
<span class="kn">import</span> <span class="n">mycalculator</span>


<span class="k">def</span> <span class="nf">calculate_something</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">var1</span><span class="p">,</span> <span class="n">var2</span><span class="p">):</span>
	<span class="sh">"""</span><span class="s"> Takes a file and calculates a metric </span><span class="sh">"""</span>
	<span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">myparser</span><span class="p">.</span><span class="nc">ParseFile</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
		<span class="nf">print</span><span class="p">(</span><span class="n">mycalculator</span><span class="p">.</span><span class="nc">SomeMetric</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="n">var1</span><span class="p">,</span> <span class="n">var2</span><span class="p">))</span>

</pre></td></tr></tbody></table></code></div></div>

<h4 id="gotta-go-fast-how-can-i-make-it-as-fast-as-possibble"><span class="me-2">Gotta go fast! How can I make it as fast as possibble?</span><a href="#gotta-go-fast-how-can-i-make-it-as-fast-as-possibble" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>At this point you have a better idea of the key considerations of parsing+validation and the calculation itself; earlier I contrasted non-linear inter-record or inter-group comparisons vs one metric for each input record. The actual ‚Äòatomic‚Äô (i.e. indivisible) calculation on a record, pairs of records, or groups of records may <em>also</em> be linear or non-linear in addition. Fortunately, some of the things you may be doing may be quite simple conditionals, additions, multiplications, or grabbing the i<sup>th</sup> column and using that in an equation. There are efficient ways and inefficient ways to do even these very basic operations in Python. Though I haven‚Äôt covered some more specifc tricks yet, I have a nice introduction to <a href="http://matthewralston.github.io/blog/beginner-python-arrays">benchmarking Python list methods</a>.</p>

<p>So far, we‚Äôve talked about how a parallelization strategy is heavily dependent on whether or not the dataset can be loaded into memory, and what the nature of the metric or comparisons really is. Let‚Äôs discuss it in the context of time complexity.</p>

<h5 id="on-in-the-number-of-inputs"><span class="me-2">O(n) in the number of inputs</span><a href="#on-in-the-number-of-inputs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<p>Before we get more complex, let‚Äôs assume for now that you‚Äôre calculating one metric for each line of a file. This can be sped up considerably by using parallel processing with Python‚Äôs <code class="language-plaintext highlighter-rouge">multiprocessing</code> module, part of its standard library. If there is just one metric for each line, you might not need to even add parallel processing unless your file is extremely large and waiting a few minutes is unacceptable. You can read a ‚Äòchunk‚Äô of a file at a time, maybe several hundred lines or several thousand, and this may be a parameter you‚Äôll need to experiment with and optimize. Essentially, each process gets a chunk of data read into memory, calculates the metric for each record in the chunk, and returns the output when the processes ‚Äòjoin‚Äô. Then you‚Äôll just print all of them out and start reading new chunks until the file is fully processed.</p>

<p>Believe it or not, if your algorithm is linear, there isn‚Äôt a huge amount of performance gain possible with clever software techniques. Most metric calculations can‚Äôt be sped up further like linear search vs binary tree search. In fact, the overhead of the <code class="language-plaintext highlighter-rouge">multiprocessing</code> module could hurt performance if the implementation isn‚Äôt smooth. That said, congrats on having a linear metric!</p>

<h5 id="naive-pairwise-comparisons-on2"><span class="me-2">Naive pairwise comparisons: O(n<sup>2</sup>)</span><a href="#naive-pairwise-comparisons-on2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<p>For pairwise comparisons between the <code class="language-plaintext highlighter-rouge">n</code> inputs, the situation becomes more complex, especially if the whole dataset can‚Äôt be read into memory on the hardware available to you.</p>

<p>Now, let‚Äôs imagine that you‚Äôve sorted and indexed your dataset, and can read arbitrary groups in, one at a time, in a similar manner. Maybe you just want to do pairwise comparisons O(n*n), or maybe the number of records in a chunk isn‚Äôt uniform (groups/clusters). But, you‚Äôve figured out that much on your own. Each group can be compared to other groups or each subset of the pairwise comparisons can be run in parallel. The challenge is similar for both, the difference being that the number of records analyzed by each processor in the pairwise comparison is typically a fixed number (100s or thousands), while group size might not be uniform for the former.</p>

<p>Either way, here is a strategy and some considerations for doing the more complex comparisons. Suppose you read the first 100 records into memory consituting group ‚ÄòA‚Äô. Now you want to compare each record of group A to each other record of the file which will get you the first set of pairwise comparisons: group A vs all. You could compare group A to each record one line at a time, or you could also read those in ‚Äòchunks‚Äô it doesn‚Äôt really matter how you end up doing it.</p>

<p>Let‚Äôs assume for now that you read the second 100 records constituting group B into memory, then group C, and so on until the file is exhausted for the first group ‚ÄòA‚Äô. Meanwhile, a different processor reads group B (the second 100 records) into memory and compares them to the rest of the file as well. <em>But</em> you‚Äôre making redudant comparisons (A&lt;-&gt;B and B&lt;-&gt;A). Approximately half of the pairwise comparisons could be considered redundant, depending on the calculation. What you ultimately want is the non-redundant set of comparisons of AA, AB, AC, AD etc. then adding BB, BC, BD etc. while avoiding the BA comparison. See what I mean? It‚Äôs like a triangular matrix.</p>

<p>Okay but what <em>is</em> the naive implementation? The naive strategy is to simply remove duplicates later; there are two strategies for parallelization of such a complex comparison that come to mind (there are solutions in between), the first of which is memory intensive. Say that you have 4 processors. Each reads 25% of the dataset into memory, which could be prohibitive if the dataset is large. Then each processor <em>streams</em> the file, producing pairwise comparisons for the 25% of the dataset it was allotted. The second strategy is similar to the first, but is more I/O intensive. Each processor reads a chunk of lines (or a group of records) into memory that is typically a few hundred or a few thousand rows, likely less than 5% of the dataset at a time, and again streams the file, producing the pairwise comparisons. These naive solutions should be considered wasteful, but easy for most beginners to implement while still receiving a speedup from parallelization. Note that the number of lines read in memory at a time is a flexible parameter that you can consider in the context of your storage speed.</p>

<h4 id="is-faster-always-better"><span class="me-2">Is faster always better?</span><a href="#is-faster-always-better" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>Now if I was a good instructor I‚Äôd leave the non-redundant implementation to the reader and ask how they‚Äôd eliminate the redundant comparisons for a nearly 100% speedup, in theory, over the naive. At this point it‚Äôs worth emphasizing that in the real world, no one is going to give you the correct answer, and sometimes you can code the naive prototype faster than it would take to get the algorithm perfect the first time. I‚Äôll take it one step further and say this <em>is</em> what you should do. You should usually use the naive implementation, especially if the speedup might only be 2x. This means you can deliver something to your boss or advisor rapidly, and express your desire for the time required to improve the implementation!</p>

<p>Most ‚Äòcompletely rational‚Äô scientists or professional types need to see how the prototypes perform before they decide whether the time required to implement a ‚Äòcorrect‚Äô solution can be justified or expensed properly. Over time you‚Äôll develop a sense that ‚Äòless is more‚Äô when it comes to developing professionally, especially if communication is routine and your benchmarking qualities are good. As scientists, sometimes giving a manager better confidence in the numerical precision or accuracy of a metric is more important (at first) than the best software implementation long term. Remind yourself here that your time in grad school or in industry is valuable. And most scientists or companies value the effort in benchmarking the performance and computational cost of a naive prototype more than they will likely value the most efficient implementation. I‚Äôll discuss benchmarking in the next post of this 2 part series.</p>

<h3 id="specific-examples"><span class="me-2">Specific examples</span><a href="#specific-examples" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Now that I‚Äôve introduced some considerations I‚Äôd like to give some specific examples of how they can be used to design prototypes in the open source world. The process usually starts with one or two seemingly simple questions or ideas about blindspots in current analyses. Over time, you‚Äôll decide that there are multiple metrics, normalizations, or algorithmic strategies that need to be tryed and tested. Putting effort and commitment into the design and optimization of precision/speed is what makes your project live or die, even in academic settings. Taking some time to develop and refine your software is like writing an essay for class: you wouldn‚Äôt hand the teacher your outline as a finished product, and you know that ‚ÄòA‚Äô papers involve lots of revision, rewording, efficiency, and referencing of ideas/inspirations for key concepts of the paper.</p>

<p>The first time I saw the SAM/BAM spec, the CLI rose above <em>just</em> well-written software. It was a thorough and evolving discussion of the community‚Äôs needs for representing the various nuances of the alignment process. Sure the attention to the community is important (lit review, issue tracking, evolving specification, etc.) but software quality is what brings people towards the community to acquire feedback, developers, features, and bugfixes.</p>

<p>I didn‚Äôt get much formal advice or education on software engineering when I started in bioinformatics. There were lots of name drops about tools you can use in the open source world, but like most graduate students, my focus was on producing results for my professor, rather than perfecting each tool I made. Another thing that I was ‚Äòopen‚Äô to, was advice on how complex software systems can be, and how some of the most useful software these days is software that you can deploy to broad audiences. Web applications were part of a project for a database systems course I took at the University of Delaware, an aside that reflects the primary application of databases. Very few scientists feel comfortable interacting directly with a database, and often require a web-form or query interface that is‚Ä¶ easier.</p>

<p>Anyways, software engineering can go a long way towards making software useful to many (if it‚Äôs worth the development cost, where there‚Äôs no clear answer or heuristic presented here) or even‚Ä¶ just <em>palatable</em> to a few. Here are a few examples of side projects I‚Äôve worked on, and what inspired them, and some of the considerations for efficiency improvements I‚Äôve made (even though I haven‚Äôt implemented them in most cases, yet).</p>

<h4 id="ngs-ci"><span class="me-2">NGS-CI</span><a href="#ngs-ci" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>The first project I started came around during graduate school, where I was working on a transcriptome assembly project for <em>C. acetobutylicum</em>. Like any bioinformatics project, the resulting assembly is only as good as the data it‚Äôs given, regardless of how elegant the algorithm may be. After assembling the transcriptome, I needed something to <em>validate</em> that <em>most</em> of the transcripts should be considered reasonable. And due to the biological conditions spanned by the experiment, I could only see transcripts expressed under those specific conditions. However, my professor was a veteran of microbiology and had extensive literature background in the organism under study, and was familiar with studies of transcription start-site identification with Northern and 5` RACE-PCR that could validate a handful of transcripts. Thankfully I validated a few, but I was still in search of a metric for assessing transcriptome quality focusing on alternative transcription start-sites.</p>

<p>A big issue is that while RNA-Seq is highly sensitive, many transcripts are expressed at very low levels. How could I tell if there was sufficient data at the <em>ends</em> of a transcript versus the sequencing reads resulting from un-degraded DNA and amplification artifacts? Most of us are familiar with the duplicate read issue for variant detection, and my vague awareness of that concept (no experience), led me to wonder how sequencing complexity is being assessed in the field. To my surprise, there weren‚Äôt any metrics from my review that estimated this at a single-base resolution.</p>

<p>‚ÄúBut I‚Äôm not an algorithm developer,‚Äù I said, ‚ÄúI‚Äôm just here to run the RNA-Seq experiment and try to run a few Northern blots.‚Äù There was no way my professor, who wasn‚Äôt a bioinformatician by <em>modern</em> standards, would be interested in investing my time in the development of an algorithm with little basis in the literature. Thankfully, during my second year, the results of my initial assembly and differential expression analyses were promising, and between breaks writing my thesis, I decided to think a little bit more about the problem I‚Äôd found. That‚Äôs how these things go.</p>

<p>It became clear to me that <em>after</em> eliminating duplicate reads, there could only be so many unique reads aligned to a single base under two assumptions. First, that read-size is fairly fixed with Illumina technology; second, consider a base in a genome ‚Äòi‚Äô. Read A is a full-length read aligned to base <code class="language-plaintext highlighter-rouge">i-x</code>, where ‚Äòx‚Äô is the offset from base i necessarily less than the read length. Read B is a full lenth read aligned to base <code class="language-plaintext highlighter-rouge">i-x+1</code>, a read aligning to the neighboring base. The second assumption is a statement about read uniqueness: if both reads are full length, then it is likely the reads originate from independent amplification events during library preparation. In an ideal situation, the maximum number of reads that could ‚Äòcover‚Äô base <code class="language-plaintext highlighter-rouge">i</code>is equal to the fixed read length.</p>

<p>After I got that far, it was off to the races. I just needed to design a metric that expressed the observed reads as a fraction of the maximum possible of deduplicated/unique reads that could possibly cover a base. The tougher part was the implementation. I started the initial project as a Ruby Gem that was a fully serial algorithm that read blocks of reads, identified their 5` base and length, and deduplicated the reads for a single base before calculating the metric. The formulation of the metric took some time, but it was simple algebra. But my first prototype didn‚Äôt consider every possible combination of sequencing technologies, mate-pair strategies, or strand-specificity. It wasn‚Äôt very fast and didn‚Äôt support parallelism. But now that I had a formula that seemed mathematically sound, the rest were implementation details.</p>

<p>Lately, I‚Äôve been rewriting this algorithm as a Python package that I hope to distribute on PyPI some day. Implementation comes first, optimization comes second, and benchmarking against simulated and real-world data leads to more optimization. I‚Äôm really happy that I have no conflicts related to this package, it was developed during my academic period <em>entirely</em>, and didn‚Äôt have a meaningful impact on my thesis. In fact, I was in committe meetings and in the revision cycle well before the first prototype was implemented in early 2015. You‚Äôll see why this matters so much to me in a moment.</p>

<h4 id="kmerjs"><span class="me-2">Kmer.js</span><a href="#kmerjs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>My second side-project was a toy I intended to work on for a friend. It was a pretty basic concept and there were several competing implementations of k-mer libraries in a variety of languages, including Javascript. But few if any exisitng libraries supported arbitrary number of k-mer profile comparisons at once, fastq and fasta input, or discussed normalization of k-mer profiles. There were a few other goodies I had in mind and I started working on a NodeJS library that I called kmer.js.</p>

<p>There were three related calculations I needed. The first and most challening at my level was the most efficient way to store a k-mer profile in memory. It turns out that when you get to k &gt; 20, most languages have a problem storing 4<sup>20</sup> = 1.1 quadrillion integers in memory on consumer hardware, let alone all of the k-mer strings. I used the <a href="https://doi.org/10.1186/s13059-014-0555-3">kPAL</a>(<sup>1</sup>) library as inspiration for the encoding strategy to partially address the memory issue. A better solution still could be to use a file of bytes, but I digress. Each calculation had a different complexity, and the accuracy or utility of each needed to quantified. I‚Äôll talk briefly in the next part about the other two calculations and how difficult it was to begin benchmarking.</p>

<p>When you‚Äôre starting out here, k-mer profiles may seem like a problem that is already solved and that is partially why I took the chance to write my own implementation. But what I didn‚Äôt expect was that even some fairly basic questions should have formal treatment with the metrics. The first question was, ‚Äúdo the correlations of the normalized k-mer profiles reflect existing phylogenetic knowledge?‚Äù Addressing this in a basic way is rather simple, but can require dozens of sequences from a genus you‚Äôre familiar with to properly validate. At this point, I still haven‚Äôt compared existing distance matrices from traditional methods (like 16S) vs the k-mer method.</p>

<p>This library, though it‚Äôs written in Javascript, was developed off-hours during my former job. Sadly, I can‚Äôt publish the source code, but I will try my best to show some of the graphs of analyses that I did to further the development and continue to approach the original questions.</p>

<h4 id="what-was-the-point-of-the-examples"><span class="me-2">What was the point of the examples?</span><a href="#what-was-the-point-of-the-examples" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>Instead of going in to detail about the implementations I‚Äôve been benchmarking, I focused instead on how a biological question or software roadblock inspired me to develop one novel algorithm and one competing k-mer library‚Ä¶ which I can‚Äôt legally pushlish‚Ä¶ cause science is open and capitalism doesn‚Äôt dominate the decision making process of leadership. Rather than be pessimistic or point fingers, I‚Äôd like to say that sometimes science can be stifled by process, but process gives rise to employability. So if you‚Äôre interested in bioinformatics, what do you want to do with it?</p>

<p>The point of the examples was to explain that with some basic software development abilities, you‚Äôll be able to build a tool that others can use. Many universities don‚Äôt explicitly teach methods development, but scientific progress lives and breathes on work that is open and willing to be criticized. You don‚Äôt have to have a masters in CS and you don‚Äôt have to be overwhelmed by the complexity e-commerce necessitates in the majority of tutorials available for novice programmers. Instead, you can restrict the ‚Äòtype‚Äô of tool you develop to command line tools, obviously harder for most scientists to use‚Ä¶</p>

<p>The specific examples were mostly just‚Ä¶ different programming scenarios for you to imagine what the complexity could look like. A per-base metric like my complexity index seems like a fairly linear algorithm, but it‚Äôs heavily driven by I/O. A kmer profile is a ‚Äòsimple‚Äô bioinformatics problem, but storing the data for larger choices of k can be prohibitive in terms of memory. My naive first guess was to store the k-mers and their counts in a hashmap. After I ran out of memory for fairly low choices of k, I had to look to competing algorithms for ideas as a first choice. Eventually I chose a <code class="language-plaintext highlighter-rouge">Uint32Array</code> for javascript, which can store a large number of k-mer counts. Restricting the unsigned integer choice limits the maximum number of reads that can constitute that array, but would provide a better memory profile. But is there a maximum array size? Before we go, I‚Äôd like to talk about a key thing for beginners to emphasize, maybe even above testing.</p>

<h2 id="documentation"><span class="me-2">Documentation</span><a href="#documentation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>There are usually two or three components of documentation for mature Python packages and/or command-line tools. The first that users see is the markdown format <code class="language-plaintext highlighter-rouge">README.md</code>. This contains basic, high-level information about the repository: description, installation, CLI usage, basic API usage, information on expanded documentation, and licensing information. Several guides have been written for essential components of <code class="language-plaintext highlighter-rouge">README</code>s , and I prefer an <a href="https://medium.com/@meakaakka/a-beginners-guide-to-writing-a-kickass-readme-7ac01da88ab3">older Medium article</a> as a guide for most cases (credits to Ryan G. for showing me this). Without repeating the contents of those guides, I‚Äôd like to mention that a build, coverage, chat, and other ‚Äòbadges‚Äô are a nice ‚Äòdynamic‚Äô addition to a static <code class="language-plaintext highlighter-rouge">README.md</code> that provides additional information about code quality or resources for users to look at, and they‚Äôre usually in a single line at the top of the file.</p>

<p>The next piece of documentation is contained in the repository itself. argparse <code class="language-plaintext highlighter-rouge">-h, --help</code> and/or manpages are usually sufficient for most command line interfaces. Sphinx docstrings and the auto-documentation described previously and/or vignettes on key classes and function usage can be helpful for developers supporting the project, for end-users, and to prevent redundant questions on the issue tracker.</p>

<p>Good documentation goes a long way to making your code high-quality for users to consider developing the project, reporting bugs, and providing feedback. You can‚Äôt entirely prevent users from finding bugs or blindspots in your codebases, but type-checking and format validation can go a long way towards making sure that only essential issues remain on the issue tracker.</p>

<h2 id="summary"><span class="me-2">Summary</span><a href="#summary" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>To wrap up, building your own scientific command-line tool can be considerably challenging. As your software development skills grow, you‚Äôll find it easier to think of metrics and implementations for simple biological or chemical analyses. However, I think you‚Äôll be surprised at how many assumptions or questions users may ask about the implementation, and you can anticipate those questions by building a KnitR report to answer even seemingly simple questions and demonstrate how useful your program is. In the next part, I‚Äôll talk about a KnitR report I‚Äôve been building for kmer.js and the steps I‚Äôm using to benchmark performance for each of the three calculations, in addition to producing some graphs of outputs on simulated and real-world data. I hope you‚Äôll remember some of my suggestions for best practices in CLI development. Thanks for reading!</p>

<h2 id="references"><span class="me-2">References</span><a href="#references" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ol>
  <li>Anvar, Seyed Yahya, et al. ‚ÄúDetermining the quality and complexity of next-generation sequencing data without a reference genome.‚Äù Genome biology 15.12 (2014): 555.</li>
</ol>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/software/">software</a>,
          <a href="/categories/bioinformatics/">bioinformatics</a>,
          <a href="/categories/python/">Python</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/prose/"
            class="post-tag no-text-decoration"
          >prose</a>
        
          <a
            href="/tags/beginner/"
            class="post-tag no-text-decoration"
          >beginner</a>
        
          <a
            href="/tags/education/"
            class="post-tag no-text-decoration"
          >education</a>
        
          <a
            href="/tags/python/"
            class="post-tag no-text-decoration"
          >python</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=How%20to%20build%20a%20scientific%20calculator%20in%20Python%20-%20Part%201.%20-%20Matt%20Ralston%20%7C%20Bio+coding&url=https%3A%2F%2Fmatthewralston.github.io%2Fblog%2Fhow-to-build-a-scientific-calculator-in-Python-part-1" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=How%20to%20build%20a%20scientific%20calculator%20in%20Python%20-%20Part%201.%20-%20Matt%20Ralston%20%7C%20Bio+coding&u=https%3A%2F%2Fmatthewralston.github.io%2Fblog%2Fhow-to-build-a-scientific-calculator-in-Python-part-1" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fmatthewralston.github.io%2Fblog%2Fhow-to-build-a-scientific-calculator-in-Python-part-1" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin">
        <i class="fa-fw fab fa-linkedin"></i>
      </a>
    

      

      <a href="https://bsky.app/intent/compose?text=How%20to%20build%20a%20scientific%20calculator%20in%20Python%20-%20Part%201.%20-%20Matt%20Ralston%20%7C%20Bio+coding%20https%3A%2F%2Fmatthewralston.github.io%2Fblog%2Fhow-to-build-a-scientific-calculator-in-Python-part-1" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Bluesky" aria-label="Bluesky">
        <i class="fa-fw fa-brands fa-bluesky"></i>
      </a>
    

      

      <a href="https://www.reddit.com/submit?url=https%3A%2F%2Fmatthewralston.github.io%2Fblog%2Fhow-to-build-a-scientific-calculator-in-Python-part-1&title=How%20to%20build%20a%20scientific%20calculator%20in%20Python%20-%20Part%201.%20-%20Matt%20Ralston%20%7C%20Bio+coding" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Reddit" aria-label="Reddit">
        <i class="fa-fw fa-brands fa-square-reddit"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/blog/open_source_hypocrisy_under_budget_tightening">Open source rant</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/youth-falls-in-night/">Youth falls in the night</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/roots-and-wings/">Roots And Wings</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/linear-runtimes-for-quasimapping-and-alignment-free/">Notes on runtimes... not working on this.</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/minimizers-a-bioinformatic-primer/">Minimizers A Bioinformatic Primer</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/prose/">prose</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/meta/">meta</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/opinion/">opinion</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/software/">Software</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/bioinformatics/">bioinformatics</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/beginner/">beginner</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/education/">education</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/software/">software</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/blog/">blog</a>
      
    </div>
  </section>


            </div>

            
              
              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    










  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/blog/basic-skills-in-computational-research-environments" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1555259488"
  data-df="ll"
  
>
  Apr 14, 2019
</time>

              <h4 class="pt-0 my-2">Basic Skills in Computational Research Environments</h4>
              <div class="text-muted">
                <p>An early blog post about differences between Data Analysts, Data Scientists, and Data Engineers</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/blog/how-do-i-become-a-bioinformatician" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1599278400"
  data-df="ll"
  
>
  Sep  5, 2020
</time>

              <h4 class="pt-0 my-2">How do I become a bioinformatician?</h4>
              <div class="text-muted">
                <p>I see plenty of posts on /r/bioinformatics of students or mid-career professionals asking what it takes to become a bioinformatician. What skills should I have? What programming languages should I ...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/data-science-vs-data-engineering/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1581881340"
  data-df="ll"
  
>
  Feb 16, 2020
</time>

              <h4 class="pt-0 my-2">Differentiation in Computational Research Environments</h4>
              <div class="text-muted">
                <p>My first post on Medium about Bioinformatics</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/top-10-productivity-tools-i-learned-from-grad-school/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>Top 10 - Productivity Tricks I Learned From Grad School</p>
    </a>
  

  
    <a
      href="/posts/magika-a-sword-art-fanfiction/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Magika - A Sword Art Online fanfiction</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>¬©
    <time>2025</time>

    
      <a href="https://github.com/MatthewRalston">Matt Ralston</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author. The website itself is licensed under the Apache v2.0 License"
      >All rights reserved.</span>
    
  </p>
  <p><a href="/privacy">Privacy Policy</p>
  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.2.4"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/prose/">prose</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/meta/">meta</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/opinion/">opinion</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/software/">Software</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/bioinformatics/">bioinformatics</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/beginner/">beginner</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/education/">education</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/software/">software</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/blog/">blog</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    
      
      <!-- The comments switcher -->

  
  <script>
  var disqus_config = function () {
    this.page.url = 'https://matthewralston.github.io/blog/how-to-build-a-scientific-calculator-in-Python-part-1';
    this.page.identifier = '/blog/how-to-build-a-scientific-calculator-in-Python-part-1';
  };

  function addDisqus() {
    let disqusThread = document.createElement('div');
    let paragraph = document.createElement('p');

    disqusThread.id = 'disqus_thread';
    paragraph.className = 'text-center text-muted small';
    paragraph.innerHTML = 'Comments powered by <a href="https://disqus.com/">Disqus</a>.';
    disqusThread.appendChild(paragraph);

    const footer = document.querySelector('footer');
    footer.insertAdjacentElement("beforebegin", disqusThread);
  }function reloadDisqus(event) {
    if (event.source === window && event.data && event.data.id === Theme.ID) {if (typeof DISQUS === 'undefined') {
        return;
      }

      if (document.readyState == 'complete') {
        DISQUS.reset({ reload: true, config: disqus_config });
      }
    }
  }

  addDisqus();

  if (Theme.switchable) {
    addEventListener('message', reloadDisqus);
  }var disqusObserver = new IntersectionObserver(
    function (entries) {
      if (entries[0].isIntersecting) {
        var d = document,
          s = d.createElement('script');
        s.src = 'https://ralstonm.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);

        disqusObserver.disconnect();
      }
    },
    { threshold: [0] }
  );

  disqusObserver.observe(document.getElementById('disqus_thread'));
</script>



    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{content}</p>  </article>',
      noResultsText: '<p class="mt-5">Oops! No results found.</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

